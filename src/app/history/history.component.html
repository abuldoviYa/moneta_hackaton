<h1>История операций</h1>
<div *ngIf="transactions">

  <mat-form-field class="width100">
    <mat-label>Введите даты </mat-label>
    <mat-date-range-input  [formGroup]="range" [rangePicker]="picker">
      <input matStartDate formControlName="start" (dateChange)="filterTransactions()" placeholder="Начало периода" >
      <input matEndDate formControlName="end" placeholder="Конец периода" (dateChange)="filterTransactions()">
    </mat-date-range-input>
    <mat-hint>ДД.ММ.ГГГГ – ДД.ММ.ГГГГ</mat-hint>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>

    <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Ошибка формата</mat-error>
    <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Ошибка формата</mat-error>
  </mat-form-field>

<!--  <div>-->
<!--    <label for="startDate">Начало периода:</label>-->




<!--    <input-->
<!--      type="date"-->
<!--      id="startDate"-->

<!--      [value]="startDate"-->
<!--      (change)="filterTransactions()"-->
<!--    />-->
<!--  </div>-->
<!--  <div>-->
<!--    <label for="endDate">Конец периода:</label>-->
<!--    <input-->
<!--      type="date"-->
<!--      id="endDate"-->
<!--      value="{{endDate}}"-->
<!--      [(ngModel)]="endDate"-->
<!--      (change)="filterTransactions()"-->
<!--    />-->

  <ul *ngIf="transactions!=null">
    <div class="transaction-wrapper">
      <li  *ngFor="let transaction of filteredTransactions">

        <div class="transaction">
          <div>{{ transaction.dateCreated.toLocaleDateString("ru-RU") + " " + transaction.dateCreated.toLocaleTimeString("ru-RU") }}</div>
          <div class="transaction-numbers">
            <div class="col-5 info-mini">
              <div>
              <label >Откуда</label>
              <p>{{ transaction.sourceAccountId }}</p>
              </div>
              <div>
              <label>Сколько</label>
              <p>{{ transaction.amountTransferred + " " +transaction.currency }}</p>
              </div>

            </div>
            <div class="col-5 info-mini">
              <div>
              <label >Куда</label>
              <p>{{ transaction.targetAccountId }}</p>
            </div>
            <div>
              <label>Сколько</label>
              <p></p>
          </div>
            </div>
          </div>
        </div>
      </li>
    </div>
  </ul>
</div>

<div *ngIf="!transactions">
  <h2>История транзакций пуста</h2>
</div>

